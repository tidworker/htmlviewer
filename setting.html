<!DOCTYPE html>
<html lang="zh-TW">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    <title>設定遊戲規則</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 10px;
            line-height: 1.6;
            background-color: #f9f9f9;
            color: #333;
        }
        h1 {
            text-align: center;
            font-size: 1.8em;
        }
        .form-group {
            margin-bottom: 15px;
        }
        label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
            font-size: 1em;
        }
        input[type="text"], input[type="number"] {
            width: 100%;
            padding: 12px;
            font-size: 1em;
            border: 1px solid #ccc;
            border-radius: 5px;
            box-sizing: border-box;
        }
        .checkbox-group label {
            display: block;
            margin-bottom: 5px;
            font-size: 1em;
        }
        input[type="checkbox"] {
            margin-right: 10px;
        }
        button {
            display: block;
            width: 100%;
            padding: 12px;
            font-size: 1.2em;
            font-weight: bold;
            background-color: #4CAF50;
            color: white;
            border: none;
            border-radius: 5px;
            cursor: pointer;
        }
        button:hover {
            background-color: #45a049;
        }
        @media (max-width: 600px) {
            h1 {
                font-size: 1.5em;
            }
            button {
                padding: 10px;
                font-size: 1em;
            }
            input[type="text"], input[type="number"] {
                padding: 10px;
            }
        }
    </style>
</head>
<body>
    <h1>設定遊戲規則</h1>
    <form id="settingsForm">
        <!-- 玩家名稱 -->
        <div class="form-group">
            <label for="player1">玩家 1 名稱</label>
            <input type="text" id="player1" placeholder="輸入玩家 1 名稱" value="玩家 1" required>
        </div>
        <div class="form-group">
            <label for="player2">玩家 2 名稱</label>
            <input type="text" id="player2" placeholder="輸入玩家 2 名稱" value="玩家 2" required>
        </div>
        <div class="form-group">
            <label for="player3">玩家 3 名稱</label>
            <input type="text" id="player3" placeholder="輸入玩家 3 名稱" value="玩家 3" required>
        </div>
        <div class="form-group">
            <label for="player4">玩家 4 名稱</label>
            <input type="text" id="player4" placeholder="輸入玩家 4 名稱" value="玩家 4" required>
        </div>

        <!-- 規則：倍率 -->
        <div class="form-group">
            <label for="multiplier">倍率</label>
            <input type="number" id="multiplier" placeholder="輸入倍率" value="1" min="1" required>
        </div>

        <!-- 規則：勾選 -->
        <div class="form-group">
            <label>勾選規則</label>
            <div class="checkbox-group">
                <label><input type="checkbox" id="rule7"> 7 張</label>
                <label><input type="checkbox" id="rule10"> 10 張</label>
                <label><input type="checkbox" id="rule13"> 13 張</label>
            </div>
        </div>

        <!-- 儲存按鈕 -->
        <button type="button" id="saveButton">儲存設定</button>
    </form>

    <script>
        // 預設值初始化
        function initializeSettings() {
            const players = JSON.parse(localStorage.getItem('players')) || {
                player1: "玩家 1",
                player2: "玩家 2",
                player3: "玩家 3",
                player4: "玩家 4"
            };
            const settings = JSON.parse(localStorage.getItem('settings')) || {
                multiplier: 1,
                rules: {
                    rule7: false,
                    rule10: false,
                    rule13: false
                }
            };

            // 設定玩家名稱
            document.getElementById('player1').value = players.player1 || "玩家 1";
            document.getElementById('player2').value = players.player2 || "玩家 2";
            document.getElementById('player3').value = players.player3 || "玩家 3";
            document.getElementById('player4').value = players.player4 || "玩家 4";

            // 設定倍率
            document.getElementById('multiplier').value = settings.multiplier || 1;

            // 設定規則勾選
            document.getElementById('rule7').checked = settings.rules.rule7 || false;
            document.getElementById('rule10').checked = settings.rules.rule10 || false;
            document.getElementById('rule13').checked = settings.rules.rule13 || false;
        }

        // 儲存設定
        document.getElementById('saveButton').addEventListener('click', function() {
            // 收集玩家名稱
            const players = {
                player1: document.getElementById('player1').value.trim(),
                player2: document.getElementById('player2').value.trim(),
                player3: document.getElementById('player3').value.trim(),
                player4: document.getElementById('player4').value.trim()
            };

            // 收集規則
            const settings = {
                multiplier: parseFloat(document.getElementById('multiplier').value),
                rules: {
                    rule7: document.getElementById('rule7').checked,
                    rule10: document.getElementById('rule10').checked,
                    rule13: document.getElementById('rule13').checked
                }
            };

            // 儲存到 localStorage
            localStorage.setItem('players', JSON.stringify(players));
            localStorage.setItem('settings', JSON.stringify(settings));

            alert('設定已儲存！');
        });

        // 初始化預設值
        initializeSettings();
    </script>
</body>
</html>